<app-menu></app-menu>
<div class="container">
  <div class="row">
      <mat-toolbar class="front">
          <span>Mesas</span>
      </mat-toolbar>
  </div>
  <div class="row" style="margin-top: 3%">
      <mat-form-field class="col-md-4">
          <mat-label>Estado</mat-label>
          <input matInput [(ngModel)]="filtro" >
      </mat-form-field>

      <button (click)="refreshTable()" mat-raised-button type="button" color="primary" style="width: 150px;">Filtrar</button>
  </div>
  <div class="row" style="margin-top: 3%">

      <mat-table #table class="mat-cell" [dataSource]="dataSource">
          <ng-container matColumnDef="id_mesas">
              <mat-header-cell mat-header-cell *matHeaderCellDef>CÃ³digo</mat-header-cell>
              <mat-cell *matCellDef="let aux">{{ aux.id_mesas }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="capacidad">
              <mat-header-cell mat-header-cell *matHeaderCellDef>Capacidad</mat-header-cell>
              <mat-cell *matCellDef="let aux">{{ aux.capacidad}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="id_sede">
            <mat-header-cell mat-header-cell *matHeaderCellDef>sede</mat-header-cell>
            <mat-cell *matCellDef="let aux">{{ aux.sede.nombre}}</mat-cell>
        </ng-container>
          <ng-container matColumnDef="estado">
              <mat-header-cell mat-header-cell *matHeaderCellDef>Estado</mat-header-cell>
              <mat-cell *matCellDef="let aux">{{ aux.estado }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="acciones">
              <mat-header-cell mat-header-cell *matHeaderCellDef>&nbsp;</mat-header-cell>
              <mat-cell *matCellDef="let aux; let i=index;">

                  <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="idEstado_{{ aux.id_mesas}}" name="estado"
                          [checked]="aux.estado=='ocupado' ? true:false" (change)="updateEstado(aux)" />
                      <label class="custom-control-label" for="idEstado_{{ aux.id_mesas}}"></label>
                  </div>

                  <button mat-icon-button color="accent" (click)="delete(aux)">
                      <mat-icon aria-label="Delete">delete</mat-icon>
                  </button>

              </mat-cell>
          </ng-container>
       <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let aux; columns: displayedColumns"></mat-row>
     </mat-table>
     <mat-paginator [pageSizeOptions]="[6,8,10]" showFirstLastButtons></mat-paginator>

 </div>

</div>

